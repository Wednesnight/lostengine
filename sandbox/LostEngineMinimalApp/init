require("Application")
require("iphone")

function lost.application.Application:configure(event)
  self.config.displayAttributes = lost.common.DisplayAttributes()
  self.config.displayAttributes.width  = 320;
  self.config.displayAttributes.height = 480;
end

function lost.application.Application:init(event)
  log.debug("init")

  -- Initialize camera
  self.config.cameraController = lost.camera.CameraController(self)
  self.config.camera = self.config.cameraController.camera
  self.config.camera:position(lost.math.Vec3(0,3,60));

  -- Initialize model attributes
  self.config.modelFilename = "kenny_tri.obj"
  self.config.modelSize     = 5.0

  -- Initialize model parser, mesh, material
  self.config.modelParser   = lost.model.obj.Parser(globals.app.loader);
  self.config.modelMesh     = lost.model.Mesh()
  self.config.modelMaterial = lost.model.obj.Material()
--  self.config.modelParser:parseMesh(self.config.modelFilename, self.config.modelMesh, self.config.modelMaterial);

  -- Initialize model renderer
  self.config.modelRenderer      = lost.model.obj.Renderer(globals.app.context, self.config.modelMesh, self.config.modelMaterial);
  self.config.modelRenderer.size = self.config.modelSize;

  self.config.lightShininess = 128
  self.config.lightCutoff    = 180
  self.config.lightAmbient   = lost.math.Vec4(0.1, 0.1, 0.1, 1.0)
  self.config.lightDiffuse   = lost.math.Vec4(0.8, 0.8, 0.8, 1.0)
  self.config.lightSpecular  = lost.math.Vec4(0.5, 0.5, 0.5, 1.0)
end
