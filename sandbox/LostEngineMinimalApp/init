require("iphone")

function preinitHandler(event)
  log.debug("preinit")

  config.cameraController = CameraController:new()
  config.cameraController:init()

  config = {}
  config.displayAttributes = lost.common.DisplayAttributes()

  config.displayAttributes.width  = 320;
  config.displayAttributes.height = 480;

  config.camera = config.cameraController.camera

  config.modelFilename = "kenny_tri.obj"
  config.modelSize     = 5.0

  config.lightShininess = 128
  config.lightCutoff    = 180
  config.lightAmbient   = lost.math.Vec4(0.1, 0.1, 0.1, 1.0)
  config.lightDiffuse   = lost.math.Vec4(0.8, 0.8, 0.8, 1.0)
  config.lightSpecular  = lost.math.Vec4(0.5, 0.5, 0.5, 1.0)
end

function initHandler(event)
  log.debug("init")
end

function runHandler(event)
  log.debug("run")
end

function quitHandler(event)
  log.debug("quit")
end

local ApplicationEvent = lost.application.ApplicationEvent
app:addEventListener(ApplicationEvent.PREINIT, preinitHandler)
app:addEventListener(ApplicationEvent.INIT, initHandler)
app:addEventListener(ApplicationEvent.RUN, runHandler)
app:addEventListener(ApplicationEvent.QUIT, quitHandler)
