require("Application")
require("TixTixTix")

function lost.application.Application:configure(event)
  log.debug("lost.application.Application:configure()")
  self.config.displayAttributes = lost.common.DisplayAttributes()
  if lost.platform.isIPhone() then
    log.debug("iPhone")
    self.config.displayAttributes.width = 320
    self.config.displayAttributes.height = 480
  else
    log.debug("Desktop")
    self.config.displayAttributes.width = 800
    self.config.displayAttributes.height = 600
  end
  self.config.displayAttributes.redbits = 8
  self.config.displayAttributes.bluebits = 8
  self.config.displayAttributes.greenbits = 8
  self.config.displayAttributes.alphabits = 8
  self.config.displayAttributes.depthbits = 24
  self.config.displayAttributes.stencilbits = 0
  self.config.displayAttributes.fullscreen = false
  self.config.displayAttributes.title = "TixTixTix - The Combination of the beast"
end

function lost.application.Application:init(event)
  log.debug("lost.application.Application:init()")

  controls = {}
  controls.fpsMeter = lost.common.FpsMeter(lost.application.Application.context)
  controls.fpsMeter.alpha = 0.25

  self.config.FieldSize = lost.math.Vec2((self.config.displayAttributes.width / 3), (self.config.displayAttributes.height / 3))

  game = TixTixTix(self)
end
